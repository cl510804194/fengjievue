<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>specialmer-dalgen</tt>, a DAL (Data Access Layer)  -->
<!-- code generation utility specially developed for <tt>rent</tt> project.     -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>specialmer-dalgen</tt> to generate this file.                                -->
<!--                                                                               -->
<!-- @author peigen                                                             -->
<!-- ============================================================================= -->

<sqlMap namespace="specialmer">
    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->

    <!-- result maps for database table tbl_order_info -->
    <resultMap id="RM-TBL-ORDER-INFO" class="com.yjf.esupplier.dal.dataobject.TblOrderInfoDO">
        <result property="id" column="id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="province" column="province" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="city" column="city" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="county" column="county" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="detailAddress" column="detail_address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="drawerName" column="drawer_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="drawerNumber" column="drawer_number" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="drawerTel" column="drawer_tel" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="zipCode" column="zip_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="saleTypeO2o" column="sale_type_o2o" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="saleTypeB2c" column="sale_type_b2c" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="saleTypeOrderMeal" column="sale_type_order_meal" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="saleTypeHotels" column="sale_type_hotels" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productVary" column="product_vary" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="facade" column="facade" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="specialExplain" column="special_explain" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="paymentMethod" column="payment_method" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="orderStatus" column="order_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="createTime" column="create_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="userId" column="user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="buyerNickname" column="buyer_nickname" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="operatorId" column="operator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="operatorTime" column="operator_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="areaCode" column="area_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="supplierName" column="supplier_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="supplierId" column="supplier_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="supplierNickname" column="supplier_nickname" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="resortsBusinessId" column="resorts_business_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="resortsBusinessName" column="resorts_business_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="resortsBusinessRealName" column="resorts_business_real_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="postFee" column="post_fee" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="postType" column="post_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="totalAmount" column="total_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="isPayed" column="is_payed" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="payedTime" column="payed_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="confirmReceiptTime" column="confirm_receipt_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="takeWays" column="take_ways" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="takegoodsId" column="takegoods_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="workflowStatus" column="workflow_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="refundStatus" column="refund_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="sellerMemo" column="seller_memo" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="sellerDelete" column="seller_delete" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="buyerDelete" column="buyer_delete" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="groupPurchaseEndTime" column="group_purchase_end_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="groupPurchaseBeginTime" column="group_purchase_begin_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="delStatus" column="del_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="qrCode" column="qr_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="sendStatus" column="send_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="validationStatus" column="validation_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="sendTime" column="send_time" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="validationTime" column="validation_time" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="paymentFlowId" column="payment_flow_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="gainMoney" column="gain_money" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="giftMoney" column="gift_money" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="userPoint" column="user_point" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="userPointAmount" column="user_point_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="batchNo" column="batch_no" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="tableNumberSeq" column="table_number_seq" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="tableNumber" column="table_number" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="tuneMeal" column="tune_meal" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="printReceipt" column="print_receipt" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="diliverymanId" column="diliveryman_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="diliverymanName" column="diliveryman_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="diliveryId" column="dilivery_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="diliveryName" column="dilivery_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="diningTime" column="dining_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="ordersTime" column="orders_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="deliverTime" column="deliver_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="diliveryFee" column="dilivery_fee" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
    </resultMap>


    <!-- ============================================= -->
    <!-- mapped statements for IbatisTblOrderInfoDAO -->
    <!-- ============================================= -->
    <!-- mapped statement for IbatisTblOrderInfoDAO.insert -->
    <insert id="MS-TBL-ORDER-INFO-INSERT">
    <![CDATA[
        insert /*MS-ESUPPLIER-TBL-ORDER-INFO-INSERT*/ into tbl_order_info(id,province,city,county,detail_address,drawer_name,drawer_number,drawer_tel,zip_code,sale_type_o2o,sale_type_b2c,sale_type_order_meal,sale_type_hotels,product_vary,facade,special_explain,payment_method,order_status,create_time,user_id,buyer_nickname,operator_id,operator_time,area_code,supplier_name,supplier_id,supplier_nickname,resorts_business_id,resorts_business_name,resorts_business_real_name,post_fee,post_type,total_amount,is_payed,payed_time,confirm_receipt_time,take_ways,takegoods_id,workflow_status,refund_status,seller_memo,seller_delete,buyer_delete,raw_add_time,group_purchase_end_time,group_purchase_begin_time,del_status,qr_code,send_status,validation_status,send_time,validation_time,payment_flow_id,gain_money,gift_money,user_point,user_point_amount,batch_no,table_number_seq,table_number,tune_meal,print_receipt,diliveryman_id,diliveryman_name,dilivery_id,dilivery_name,dining_time,orders_time,deliver_time,dilivery_fee) values (#id#, #province#, #city#, #county#, #detailAddress#, #drawerName#, #drawerNumber#, #drawerTel#, #zipCode#, #saleTypeO2o#, #saleTypeB2c#, #saleTypeOrderMeal#, #saleTypeHotels#, #productVary#, #facade#, #specialExplain#, #paymentMethod#, #orderStatus#, #createTime#, #userId#, #buyerNickname#, #operatorId#, #operatorTime#, #areaCode#, #supplierName#, #supplierId#, #supplierNickname#, #resortsBusinessId#, #resortsBusinessName#, #resortsBusinessRealName#, #postFee.cent#, #postType#, #totalAmount.cent#, #isPayed#, #payedTime#, #confirmReceiptTime#, #takeWays#, #takegoodsId#, #workflowStatus#, #refundStatus#, #sellerMemo#, #sellerDelete#, #buyerDelete#, #rawAddTime#, #groupPurchaseEndTime#, #groupPurchaseBeginTime#, #delStatus#, #qrCode#, #sendStatus#, #validationStatus#, #sendTime#, #validationTime#, #paymentFlowId#, #gainMoney.cent#, #giftMoney.cent#, #userPoint#, #userPointAmount.cent#, #batchNo#, #tableNumberSeq#, #tableNumber#, #tuneMeal#, #printReceipt#, #diliverymanId#, #diliverymanName#, #diliveryId#, #diliveryName#, #diningTime#, #ordersTime#, #deliverTime#, #diliveryFee.cent#)
    ]]>
    </insert>

    <!-- mapped statement for IbatisTblOrderInfoDAO.update -->
    <update id="MS-TBL-ORDER-INFO-UPDATE">
    <![CDATA[
        update /*MS-ESUPPLIER-TBL-ORDER-INFO-UPDATE*/ tbl_order_info set province=#province#, city=#city#, county=#county#, detail_address=#detailAddress#, drawer_name=#drawerName#, drawer_number=#drawerNumber#, drawer_tel=#drawerTel#, zip_code=#zipCode#, sale_type_o2o=#saleTypeO2o#, sale_type_b2c=#saleTypeB2c#, sale_type_order_meal=#saleTypeOrderMeal#, sale_type_hotels=#saleTypeHotels#, product_vary=#productVary#, facade=#facade#, special_explain=#specialExplain#, payment_method=#paymentMethod#, order_status=#orderStatus#, create_time=#createTime#, user_id=#userId#, buyer_nickname=#buyerNickname#, operator_id=#operatorId#, operator_time=#operatorTime#, area_code=#areaCode#, supplier_name=#supplierName#, supplier_id=#supplierId#, supplier_nickname=#supplierNickname#, resorts_business_id=#resortsBusinessId#, resorts_business_name=#resortsBusinessName#, resorts_business_real_name=#resortsBusinessRealName#, post_fee=#postFee.cent#, post_type=#postType#, total_amount=#totalAmount.cent#, is_payed=#isPayed#, payed_time=#payedTime#, confirm_receipt_time=#confirmReceiptTime#, take_ways=#takeWays#, takegoods_id=#takegoodsId#, workflow_status=#workflowStatus#, refund_status=#refundStatus#, seller_memo=#sellerMemo#, seller_delete=#sellerDelete#, buyer_delete=#buyerDelete#, group_purchase_end_time=#groupPurchaseEndTime#, group_purchase_begin_time=#groupPurchaseBeginTime#, del_status=#delStatus#, qr_code=#qrCode#, send_status=#sendStatus#, validation_status=#validationStatus#, send_time=#sendTime#, validation_time=#validationTime#, payment_flow_id=#paymentFlowId#, gain_money=#gainMoney.cent#, gift_money=#giftMoney.cent#, user_point=#userPoint#, user_point_amount=#userPointAmount.cent#, batch_no=#batchNo#, table_number_seq=#tableNumberSeq#, table_number=#tableNumber#, tune_meal=#tuneMeal#, print_receipt=#printReceipt#, diliveryman_id=#diliverymanId#, diliveryman_name=#diliverymanName#, dilivery_id=#diliveryId#, dilivery_name=#diliveryName#, dining_time=#diningTime#, orders_time=#ordersTime#, deliver_time=#deliverTime#, dilivery_fee=#diliveryFee.cent# where (id = #id#)
    ]]>
    </update>

    <!-- mapped statement for IbatisTblOrderInfoDAO.updateFlowId -->
    <update id="MS-TBL-ORDER-INFO-UPDATE-FLOW-ID">
    <![CDATA[
        update /*MS-ESUPPLIER-TBL-ORDER-INFO-UPDATE-FLOW-ID*/ tbl_order_info set payment_flow_id=#paymentFlowId# where (id = #id#)
    ]]>
    </update>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findById -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-ID" resultMap="RM-TBL-ORDER-INFO">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-ID*/ * from tbl_order_info where (id = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findByPaymentFlowId -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-PAYMENT-FLOW-ID" resultMap="RM-TBL-ORDER-INFO">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-PAYMENT-FLOW-ID*/ * from tbl_order_info where (payment_flow_id = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findByQrCode -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-QR-CODE" resultMap="RM-TBL-ORDER-INFO">
        SELECT /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-QR-CODE*/  *  FROM tbl_order_info
	          where qr_code=#qrCode# and supplier_id = #supplierId#
	        <dynamic>
	             <isNotEmpty property="status" prepend=" and ">
	              <![CDATA[ validation_status = #status# ]]>
	            </isNotEmpty>
	        </dynamic>
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findByIdForUpdate -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-ID-FOR-UPDATE" resultMap="RM-TBL-ORDER-INFO">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-ID-FOR-UPDATE*/ * from tbl_order_info where (id = #value#) for update
    ]]>
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findByBatchNo -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-BATCH-NO" resultMap="RM-TBL-ORDER-INFO">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-BATCH-NO*/ * from tbl_order_info where (batch_no = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findByCondition -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-CONDITION" resultMap="RM-TBL-ORDER-INFO">
        SELECT /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-CONDITION*/  *  FROM tbl_order_info
	          where 1=1
	        <dynamic>
	            <isGreaterThan property="tblOrderInfo.id"  compareValue="0" prepend=" and ">
	                id = #tblOrderInfo.id#
	            </isGreaterThan>
	            <isGreaterThan property="tblOrderInfo.batchNo"  compareValue="0" prepend=" and ">
	                batch_No = #tblOrderInfo.batchNo#
	            </isGreaterThan>
	             <isGreaterThan property="tblOrderInfo.userId"  compareValue="0" prepend=" and ">
	                user_id = #tblOrderInfo.userId#
	            </isGreaterThan>
	            <isGreaterThan property="tblOrderInfo.supplierId" prepend=" and " compareValue="0">
	               supplier_id = #tblOrderInfo.supplierId#
	            </isGreaterThan>
	           	<isGreaterThan property="tblOrderInfo.resortsBusinessId" prepend=" and " compareValue="0">
	               resorts_business_id = #tblOrderInfo.resortsBusinessId#
	            </isGreaterThan>
	             <isNotEmpty property="tblOrderInfo.orderStatus" prepend=" and ">
	             	order_status = #tblOrderInfo.orderStatus#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeO2o" prepend=" and ">
	             	sale_type_o2o = #tblOrderInfo.saleTypeO2o#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeB2c" prepend=" and ">
	             	sale_type_b2c = #tblOrderInfo.saleTypeB2c#
	             </isNotEmpty>

	             <isNotEmpty property="tblOrderInfo.saleTypeOrderMeal" prepend=" and ">
	             	sale_type_order_meal = #tblOrderInfo.saleTypeOrderMeal#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.saleTypeHotels" prepend=" and ">
	             	sale_type_hotels = #tblOrderInfo.saleTypeHotels#
	             </isNotEmpty>

	             <isNotEmpty property="tblOrderInfo.productVary" prepend=" and ">
	             	product_vary = #tblOrderInfo.productVary#
	             </isNotEmpty>

	             
	             <isNotEmpty property="tblOrderInfo.workflowStatus" prepend=" and ">
	             	workflow_status = #tblOrderInfo.workflowStatus#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.refundStatus" prepend=" and ">
	             	refund_status = #tblOrderInfo.refundStatus#
	             </isNotEmpty>
	             <isNotEmpty property="statusList" prepend=" and ">
					order_status in
					<iterate property="statusList" open="(" close=")" conjunction=",">
						#statusList[]#
					</iterate>
				</isNotEmpty>
				<isNotEmpty property="batchNoList" prepend=" and ">
					batch_No in
					<iterate property="batchNoList" open="(" close=")" conjunction=",">
						#batchNoList[]#
					</iterate>
				</isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.paymentMethod" prepend=" and ">
	             	payment_method = #tblOrderInfo.paymentMethod#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.takeWays" prepend=" and ">
	             	take_ways = #tblOrderInfo.takeWays#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.tableNumberSeq" prepend=" and ">
	             	table_number_seq = #tblOrderInfo.tableNumberSeq#
	             </isNotEmpty>
	             <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ create_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ create_time <= #endDate# ]]>
	            </isNotEmpty>
	        </dynamic>
            ORDER by raw_add_time
            
            LIMIT #limitStart#,#pageSize#;
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findByConditionCount -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-CONDITION-COUNT" resultClass="long">
        SELECT /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-CONDITION-COUNT*/  count(*)  FROM tbl_order_info
	          where 1=1
	        <dynamic>
	            <isGreaterThan property="tblOrderInfo.id"  compareValue="0" prepend=" and ">
	                id = #tblOrderInfo.id#
	            </isGreaterThan>
	             <isGreaterThan property="tblOrderInfo.userId"  compareValue="0" prepend=" and ">
	                user_id = #tblOrderInfo.userId#
	            </isGreaterThan>
	            <isGreaterThan property="tblOrderInfo.supplierId" prepend=" and " compareValue="0">
	               supplier_id = #tblOrderInfo.supplierId#
	            </isGreaterThan>
	            <isGreaterThan property="tblOrderInfo.resortsBusinessId" prepend=" and " compareValue="0">
	               resorts_business_id = #tblOrderInfo.resortsBusinessId#
	            </isGreaterThan>
	             <isNotEmpty property="tblOrderInfo.orderStatus" prepend=" and ">
	             	order_status = #tblOrderInfo.orderStatus#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeO2o" prepend=" and ">
	             	sale_type_o2o = #tblOrderInfo.saleTypeO2o#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeB2c" prepend=" and ">
	             	sale_type_b2c = #tblOrderInfo.saleTypeB2c#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.saleTypeOrderMeal" prepend=" and ">
	             	sale_type_order_meal = #tblOrderInfo.saleTypeOrderMeal#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeHotels" prepend=" and ">
	             	sale_type_hotels = #tblOrderInfo.saleTypeHotels#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.productVary" prepend=" and ">
	             	product_vary = #tblOrderInfo.productVary#
	             </isNotEmpty>


	            <isNotEmpty property="tblOrderInfo.workflowStatus" prepend=" and ">
	             	workflow_status = #tblOrderInfo.workflowStatus#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.refundStatus" prepend=" and ">
	             	refund_status = #tblOrderInfo.refundStatus#
	             </isNotEmpty>
	             <isNotEmpty property="statusList" prepend=" and ">
					order_status in
					<iterate property="statusList" open="(" close=")" conjunction=",">
						#statusList[]#
					</iterate>
				</isNotEmpty>
				<isNotEmpty property="batchNoList" prepend=" and ">
					batch_No in
					<iterate property="batchNoList" open="(" close=")" conjunction=",">
						#batchNoList[]#
					</iterate>
				</isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.paymentMethod" prepend=" and ">
	             	payment_method = #tblOrderInfo.paymentMethod#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.takeWays" prepend=" and ">
	             	take_ways = #tblOrderInfo.takeWays#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.tableNumberSeq" prepend=" and ">
	             	table_number_seq = #tblOrderInfo.tableNumberSeq#
	             </isNotEmpty>
	             <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ create_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ create_time <= #endDate# ]]>
	            </isNotEmpty>
	        </dynamic>
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.deleteById -->
    <delete id="MS-TBL-ORDER-INFO-DELETE-BY-ID">
    <![CDATA[
        delete /*MS-ESUPPLIER-TBL-ORDER-INFO-DELETE-BY-ID*/ from tbl_order_info where (id = #value#)
    ]]>
    </delete>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findAllCount -->
    <select id="MS-TBL-ORDER-INFO-FIND-ALL-COUNT" resultClass="long">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-ALL-COUNT*/ COUNT(*) from tbl_order_info
    ]]>
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findByBatchNoCount -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-BATCH-NO-COUNT" resultClass="long">
        SELECT /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-BATCH-NO-COUNT*/  count(*)  from (SELECT  batch_No  FROM tbl_order_info
	          where 1=1
	        <dynamic>
	            <isGreaterThan property="tblOrderInfo.id"  compareValue="0" prepend=" and ">
	                id = #tblOrderInfo.id#
	            </isGreaterThan>
	            <isGreaterThan property="tblOrderInfo.batchNo"  compareValue="0" prepend=" and ">
	                batch_No = #tblOrderInfo.batchNo#
	            </isGreaterThan>
	             <isGreaterThan property="tblOrderInfo.userId"  compareValue="0" prepend=" and ">
	                user_id = #tblOrderInfo.userId#
	            </isGreaterThan>
	            <isGreaterThan property="tblOrderInfo.supplierId" prepend=" and " compareValue="0">
	               supplier_id = #tblOrderInfo.supplierId#
	            </isGreaterThan>
	            <isNotEmpty property="tblOrderInfo.supplierName" prepend=" and ">
	             	supplier_name like #tblOrderInfo.supplierName#
	             </isNotEmpty>
	            <isGreaterThan property="tblOrderInfo.resortsBusinessId" prepend=" and " compareValue="0">
	               resorts_business_id = #tblOrderInfo.resortsBusinessId#
	            </isGreaterThan>
	             <isNotEmpty property="tblOrderInfo.orderStatus" prepend=" and ">
	             	order_status = #tblOrderInfo.orderStatus#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeO2o" prepend=" and ">
	             	sale_type_o2o = #tblOrderInfo.saleTypeO2o#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeB2c" prepend=" and ">
	             	sale_type_b2c = #tblOrderInfo.saleTypeB2c#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.saleTypeOrderMeal" prepend=" and ">
	             	sale_type_order_meal = #tblOrderInfo.saleTypeOrderMeal#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeHotels" prepend=" and ">
	             	sale_type_hotels = #tblOrderInfo.saleTypeHotels#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.productVary" prepend=" and ">
	             	product_vary = #tblOrderInfo.productVary#
	             </isNotEmpty>
	            <isNotEmpty property="tblOrderInfo.workflowStatus" prepend=" and ">
	             	workflow_status = #tblOrderInfo.workflowStatus#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.refundStatus" prepend=" and ">
	             	refund_status = #tblOrderInfo.refundStatus#
	             </isNotEmpty>
	             <isNotEmpty property="statusList" prepend=" and ">
					order_status in
					<iterate property="statusList" open="(" close=")" conjunction=",">
						#statusList[]#
					</iterate>
				</isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.paymentMethod" prepend=" and ">
	             	payment_method = #tblOrderInfo.paymentMethod#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.takeWays" prepend=" and ">
	             	take_ways = #tblOrderInfo.takeWays#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.tuneMeal" prepend=" and ">
	             	tune_meal = #tblOrderInfo.tuneMeal#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.tableNumberSeq" prepend=" and ">
	             	table_number_seq = #tblOrderInfo.tableNumberSeq#
	             </isNotEmpty>
	             <isGreaterThan property="tblOrderInfo.diliverymanId" prepend=" and " compareValue="0">
	              	diliveryman_id = #tblOrderInfo.diliverymanId#
	             </isGreaterThan>
	              <isNotEmpty property="tblOrderInfo.printReceipt" prepend=" and ">
	             	print_receipt = #tblOrderInfo.printReceipt#
	             </isNotEmpty>
	             <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ create_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ create_time <= #endDate# ]]>
	            </isNotEmpty>
	        </dynamic>
	         GROUP BY batch_No,supplier_id ) c
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findByBatchNoCondition -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-BATCH-NO-CONDITION" resultMap="RM-TBL-ORDER-INFO">
        SELECT /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-BATCH-NO-CONDITION*/  *  FROM tbl_order_info
	          where 1=1
	        <dynamic>
	            <isGreaterThan property="tblOrderInfo.id"  compareValue="0" prepend=" and ">
	                id = #tblOrderInfo.id#
	            </isGreaterThan>
	             <isGreaterThan property="tblOrderInfo.batchNo"  compareValue="0" prepend=" and ">
	                batch_No = #tblOrderInfo.batchNo#
	            </isGreaterThan>
	             <isGreaterThan property="tblOrderInfo.userId"  compareValue="0" prepend=" and ">
	                user_id = #tblOrderInfo.userId#
	            </isGreaterThan>
	            <isGreaterThan property="tblOrderInfo.supplierId" prepend=" and " compareValue="0">
	               supplier_id = #tblOrderInfo.supplierId#
	            </isGreaterThan>
	            <isNotEmpty property="tblOrderInfo.supplierName" prepend=" and ">
	             	supplier_name like #tblOrderInfo.supplierName#
	             </isNotEmpty>
	           	<isGreaterThan property="tblOrderInfo.resortsBusinessId" prepend=" and " compareValue="0">
	               resorts_business_id = #tblOrderInfo.resortsBusinessId#
	            </isGreaterThan>
	             <isNotEmpty property="tblOrderInfo.orderStatus" prepend=" and ">
	             	order_status = #tblOrderInfo.orderStatus#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeO2o" prepend=" and ">
	             	sale_type_o2o = #tblOrderInfo.saleTypeO2o#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeB2c" prepend=" and ">
	             	sale_type_b2c = #tblOrderInfo.saleTypeB2c#
	             </isNotEmpty>
	
	             <isNotEmpty property="tblOrderInfo.saleTypeOrderMeal" prepend=" and ">
	             	sale_type_order_meal = #tblOrderInfo.saleTypeOrderMeal#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeHotels" prepend=" and ">
	             	sale_type_hotels = #tblOrderInfo.saleTypeHotels#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.productVary" prepend=" and ">
	             	product_vary = #tblOrderInfo.productVary#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.workflowStatus" prepend=" and ">
	             	workflow_status = #tblOrderInfo.workflowStatus#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.refundStatus" prepend=" and ">
	             	refund_status = #tblOrderInfo.refundStatus#
	             </isNotEmpty>
	             <isNotEmpty property="statusList" prepend=" and ">
					order_status in
					<iterate property="statusList" open="(" close=")" conjunction=",">
						#statusList[]#
					</iterate>
				</isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.paymentMethod" prepend=" and ">
	             	payment_method = #tblOrderInfo.paymentMethod#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.takeWays" prepend=" and ">
	             	take_ways = #tblOrderInfo.takeWays#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.tuneMeal" prepend=" and ">
	             	tune_meal = #tblOrderInfo.tuneMeal#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.tableNumberSeq" prepend=" and ">
	             	table_number_seq = #tblOrderInfo.tableNumberSeq#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.printReceipt" prepend=" and ">
	             	print_receipt = #tblOrderInfo.printReceipt#
	             </isNotEmpty>
	             <isGreaterThan property="tblOrderInfo.diliverymanId" prepend=" and " compareValue="0">
	              diliveryman_id = #tblOrderInfo.diliverymanId#
	             </isGreaterThan>
	             <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ create_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ create_time <= #endDate# ]]>
	            </isNotEmpty>
	        </dynamic>
            GROUP BY batch_No,supplier_id
            <isNotEmpty property="orderBy">
	      		 $orderBy$
	       </isNotEmpty>
            
            LIMIT #limitStart#,#pageSize#;
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findDayDeliverCount -->
    <select id="MS-TBL-ORDER-INFO-FIND-DAY-DELIVER-COUNT" resultClass="long">
        SELECT /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-DAY-DELIVER-COUNT*/  count(*)  from (SELECT  batch_No  FROM tbl_order_info
	          where  <![CDATA[ DATE(deliver_time)= CURDATE() ]]>
	        <dynamic>
	            <isGreaterThan property="tblOrderInfo.id"  compareValue="0" prepend=" and ">
	                id = #tblOrderInfo.id#
	            </isGreaterThan>
	            <isGreaterThan property="tblOrderInfo.batchNo"  compareValue="0" prepend=" and ">
	                batch_No = #tblOrderInfo.batchNo#
	            </isGreaterThan>
	             <isGreaterThan property="tblOrderInfo.userId"  compareValue="0" prepend=" and ">
	                user_id = #tblOrderInfo.userId#
	            </isGreaterThan>
	            <isGreaterThan property="tblOrderInfo.supplierId" prepend=" and " compareValue="0">
	               supplier_id = #tblOrderInfo.supplierId#
	            </isGreaterThan>
	            <isNotEmpty property="tblOrderInfo.supplierName" prepend=" and ">
	             	supplier_name like #tblOrderInfo.supplierName#
	             </isNotEmpty>
	            <isGreaterThan property="tblOrderInfo.resortsBusinessId" prepend=" and " compareValue="0">
	               resorts_business_id = #tblOrderInfo.resortsBusinessId#
	            </isGreaterThan>
	             <isNotEmpty property="tblOrderInfo.orderStatus" prepend=" and ">
	             	order_status = #tblOrderInfo.orderStatus#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeO2o" prepend=" and ">
	             	sale_type_o2o = #tblOrderInfo.saleTypeO2o#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeB2c" prepend=" and ">
	             	sale_type_b2c = #tblOrderInfo.saleTypeB2c#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.saleTypeOrderMeal" prepend=" and ">
	             	sale_type_order_meal = #tblOrderInfo.saleTypeOrderMeal#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.saleTypeHotels" prepend=" and ">
	             	sale_type_hotels = #tblOrderInfo.saleTypeHotels#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.productVary" prepend=" and ">
	             	product_vary = #tblOrderInfo.productVary#
	             </isNotEmpty>
	            <isNotEmpty property="tblOrderInfo.workflowStatus" prepend=" and ">
	             	workflow_status = #tblOrderInfo.workflowStatus#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.refundStatus" prepend=" and ">
	             	refund_status = #tblOrderInfo.refundStatus#
	             </isNotEmpty>
	             <isNotEmpty property="statusList" prepend=" and ">
					order_status in
					<iterate property="statusList" open="(" close=")" conjunction=",">
						#statusList[]#
					</iterate>
				</isNotEmpty>								
	             <isNotEmpty property="tblOrderInfo.paymentMethod" prepend=" and ">
	             	payment_method = #tblOrderInfo.paymentMethod#
	             </isNotEmpty>
	             <isNotEmpty property="tblOrderInfo.takeWays" prepend=" and ">
	             	take_ways = #tblOrderInfo.takeWays#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.tuneMeal" prepend=" and ">
	             	tune_meal = #tblOrderInfo.tuneMeal#
	             </isNotEmpty>
	              <isNotEmpty property="tblOrderInfo.tableNumberSeq" prepend=" and ">
	             	table_number_seq = #tblOrderInfo.tableNumberSeq#
	             </isNotEmpty>
	             <isGreaterThan property="tblOrderInfo.diliverymanId" prepend=" and " compareValue="0">
	             	 diliveryman_id = #tblOrderInfo.diliverymanId#
	             </isGreaterThan>
	              <isNotEmpty property="tblOrderInfo.printReceipt" prepend=" and ">
	             	print_receipt = #tblOrderInfo.printReceipt#
	             </isNotEmpty>
	        </dynamic>
	         GROUP BY batch_No,supplier_id ) c
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findByUserIdAutoTest -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-USER-ID-AUTO-TEST" resultMap="RM-TBL-ORDER-INFO">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-USER-ID-AUTO-TEST*/ * from tbl_order_info where (user_id = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.deleteByUserIdAutoTest -->
    <delete id="MS-TBL-ORDER-INFO-DELETE-BY-USER-ID-AUTO-TEST">
    <![CDATA[
        delete /*MS-ESUPPLIER-TBL-ORDER-INFO-DELETE-BY-USER-ID-AUTO-TEST*/ from tbl_order_info where (user_id = #value#)
    ]]>
    </delete>

    <!-- mapped statement for IbatisTblOrderInfoDAO.findBySupplierIdAutoTest -->
    <select id="MS-TBL-ORDER-INFO-FIND-BY-SUPPLIER-ID-AUTO-TEST" resultMap="RM-TBL-ORDER-INFO">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-ORDER-INFO-FIND-BY-SUPPLIER-ID-AUTO-TEST*/ * from tbl_order_info where (supplier_id = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisTblOrderInfoDAO.deleteBySupplierIdAutoTest -->
    <delete id="MS-TBL-ORDER-INFO-DELETE-BY-SUPPLIER-ID-AUTO-TEST">
    <![CDATA[
        delete /*MS-ESUPPLIER-TBL-ORDER-INFO-DELETE-BY-SUPPLIER-ID-AUTO-TEST*/ from tbl_order_info where (supplier_id = #value#)
    ]]>
    </delete>

    <!-- mapped statement for IbatisTblOrderInfoDAO.queryOutDateRefundOrder -->
    <select id="MS-TBL-ORDER-INFO-QUERY-OUT-DATE-REFUND-ORDER" resultMap="RM-TBL-ORDER-INFO">
        select /*MS-ESUPPLIER-TBL-ORDER-INFO-QUERY-OUT-DATE-REFUND-ORDER*/ * from tbl_order_info o WHERE o.sale_type_o2o='YES' AND o.order_status='YFK' and o.refund_status is null and DATEDIFF(NOW(), o.dining_time)>=1
    </select>

</sqlMap>
