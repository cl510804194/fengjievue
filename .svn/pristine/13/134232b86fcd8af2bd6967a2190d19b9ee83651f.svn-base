<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>specialmer-dalgen</tt>, a DAL (Data Access Layer)  -->
<!-- code generation utility specially developed for <tt>rent</tt> project.     -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>specialmer-dalgen</tt> to generate this file.                                -->
<!--                                                                               -->
<!-- @author peigen                                                             -->
<!-- ============================================================================= -->

<sqlMap namespace="specialmer">
    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->

    <!-- result maps for database table tbl_product -->
    <resultMap id="RM-TBL-PRODUCT" class="com.yjf.esupplier.dal.dataobject.TblProductDO">
        <result property="productId" column="product_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="supplierId" column="supplier_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="supplierName" column="supplier_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="resortsBusinessId" column="resorts_business_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="resortsBusinessName" column="resorts_business_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="resortsBusinessRealName" column="resorts_business_real_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="operatorId" column="operator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="operatorName" column="operator_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="operatorRealName" column="operator_real_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productName" column="product_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productNumber" column="product_number" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productStatus" column="product_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productUnit" column="product_unit" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="price1" column="price1" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="price1Range" column="price1_range" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="price2" column="price2" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="price2Range" column="price2_range" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="price3" column="price3" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="price3Range" column="price3_range" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productType" column="product_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productVary" column="product_vary" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="smallPicPath" column="small_pic_path" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="middlePicPath" column="middle_pic_path" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="bigPicPath" column="big_pic_path" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="webOrder" column="web_order" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="startOrderCount" column="start_order_count" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="wareCount" column="ware_count" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="reservedCount" column="reserved_count" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="saleCount" column="sale_count" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="saleTypeO2o" column="sale_type_o2o" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="saleTypeB2c" column="sale_type_b2c" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="saleTypeOrderMeal" column="sale_type_order_meal" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="saleTypeHotels" column="sale_type_hotels" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="groupBuyDetail" column="group_buy_detail" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="productDetail" column="product_detail" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="wholesaleDetail" column="wholesale_detail" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="transportDetail" column="transport_detail" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="tradeType" column="trade_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="groupPurchaseEndTime" column="group_purchase_end_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="groupPurchaseBeginTime" column="group_purchase_begin_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="execBeginTime" column="exec_begin_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="execEndTime" column="exec_end_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="productStartDate" column="product_start_date" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="productModifyDate" column="product_modify_date" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="productEndDate" column="product_end_date" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="ipAddress" column="ip_address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="facade" column="facade" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="lastViewTime" column="last_view_time" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="viewCount" column="view_count" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="smallPicPath1" column="small_pic_path1" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="middlePicPath1" column="middle_pic_path1" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="bigPicPath1" column="big_pic_path1" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="smallPicPath2" column="small_pic_path2" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="middlePicPath2" column="middle_pic_path2" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="bigPicPath2" column="big_pic_path2" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="smallPicPath3" column="small_pic_path3" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="middlePicPath3" column="middle_pic_path3" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="bigPicPath3" column="big_pic_path3" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="censor" column="censor" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="postType" column="post_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="marketPrice" column="market_price" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="productState" column="product_state" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="picPath" column="pic_path" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="htmlPath" column="html_path" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="checkId" column="check_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="checkName" column="check_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="checkRealName" column="check_real_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="productStyle" column="product_style" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productTheme" column="product_theme" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productCusAdd1" column="product_cus_add1" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productCusAdd2" column="product_cus_add2" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productCusAdd3" column="product_cus_add3" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productCusAdd4" column="product_cus_add4" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productCusAdd5" column="product_cus_add5" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="ptTag" column="pt_tag" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="appointment" column="appointment" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="ptKeyWords" column="pt_keyWords" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="scoreAvg" column="score_avg" javaType="double" jdbcType="FLOAT" nullValue="0"/>
        <result property="scoreSum" column="score_sum" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="rateSum" column="rate_sum" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="points" column="points" javaType="int" jdbcType="SMALLINT" nullValue="0"/>
        <result property="tuneMeal" column="tune_meal" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="recommend" column="recommend" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="specialRoom" column="special_room" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="longRentRoom" column="long_rent_room" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="morningRoom" column="morning_room" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="orderScore" column="orderScore" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customType1" column="custom_type1" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customType2" column="custom_type2" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customType3" column="custom_type3" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customValue1" column="custom_value1" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customValue2" column="custom_value2" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customValue3" column="custom_value3" javaType="java.lang.String" jdbcType="VARCHAR"/>
    </resultMap>


    <!-- ============================================= -->
    <!-- mapped statements for IbatisTblProductDAO -->
    <!-- ============================================= -->
    <!-- mapped statement for IbatisTblProductDAO.insert -->
    <insert id="MS-TBL-PRODUCT-INSERT">
    <![CDATA[
        insert /*MS-ESUPPLIER-TBL-PRODUCT-INSERT*/ into tbl_product(product_id,supplier_id,supplier_name,resorts_business_id,resorts_business_name,resorts_business_real_name,operator_id,operator_name,operator_real_name,product_name,product_number,product_status,score_avg,score_sum,rate_sum,product_unit,price1,price1_range,price2,price2_range,price3,price3_range,product_type,product_vary,small_pic_path,middle_pic_path,big_pic_path,web_order,start_order_count,ware_count,reserved_count,sale_count,sale_type_o2o,sale_type_b2c,sale_type_order_meal,sale_type_hotels,group_buy_detail,product_detail,wholesale_detail,transport_detail,trade_type,product_start_date,product_modify_date,product_end_date,ip_address,facade,last_view_time,view_count,small_pic_path1,middle_pic_path1,big_pic_path1,small_pic_path2,middle_pic_path2,big_pic_path2,small_pic_path3,middle_pic_path3,big_pic_path3,censor,post_type,market_price,product_state,pic_path,html_path,check_id,check_name,check_real_name,raw_add_time,product_style,product_theme,pt_tag,pt_keyWords,points,appointment,product_cus_add1,product_cus_add2,product_cus_add3,product_cus_add4,product_cus_add5,custom_type1,custom_type2,custom_type3,custom_value1,custom_value2,custom_value3,group_purchase_end_time,group_purchase_begin_time,tune_meal,recommend,special_room,long_rent_room,morning_room,exec_begin_time,exec_end_time) values (#productId#, #supplierId#, #supplierName#, #resortsBusinessId#, #resortsBusinessName#, #resortsBusinessRealName#, #operatorId#, #operatorName#, #operatorRealName#, #productName#, #productNumber#, #productStatus#, #scoreAvg#, #scoreSum#, #rateSum#, #productUnit#, #price1.cent#, #price1Range#, #price2.cent#, #price2Range#, #price3.cent#, #price3Range#, #productType#, #productVary#, #smallPicPath#, #middlePicPath#, #bigPicPath#, #webOrder#, #startOrderCount#, #wareCount#, #reservedCount#, #saleCount#, #saleTypeO2o#, #saleTypeB2c#, #saleTypeOrderMeal#, #saleTypeHotels#, #groupBuyDetail#, #productDetail#, #wholesaleDetail#, #transportDetail#, #tradeType#, #productStartDate#, #productModifyDate#, #productEndDate#, #ipAddress#, #facade#, #lastViewTime#, #viewCount#, #smallPicPath1#, #middlePicPath1#, #bigPicPath1#, #smallPicPath2#, #middlePicPath2#, #bigPicPath2#, #smallPicPath3#, #middlePicPath3#, #bigPicPath3#, #censor#, #postType#, #marketPrice.cent#, #productState#, #picPath#, #htmlPath#, #checkId#, #checkName#, #checkRealName#, #rawAddTime#, #productStyle#, #productTheme#, #ptTag#, #ptKeyWords#, #points#, #appointment#, #productCusAdd1#, #productCusAdd2#, #productCusAdd3#, #productCusAdd4#, #productCusAdd5#, #customType1#, #customType2#, #customType3#, #customValue1#, #customValue2#, #customValue3#, #groupPurchaseEndTime#, #groupPurchaseBeginTime#, #tuneMeal#, #recommend#, #specialRoom#, #longRentRoom#, #morningRoom#, #execBeginTime#, #execEndTime#)
    ]]>
    </insert>

    <!-- mapped statement for IbatisTblProductDAO.update -->
    <update id="MS-TBL-PRODUCT-UPDATE">
    <![CDATA[
        update /*MS-ESUPPLIER-TBL-PRODUCT-UPDATE*/ tbl_product set supplier_id=#supplierId#, supplier_name=#supplierName#, resorts_business_id=#resortsBusinessId#, resorts_business_name=#resortsBusinessName#, resorts_business_real_name=#resortsBusinessRealName#, operator_id=#operatorId#, operator_name=#operatorName#, operator_real_name=#operatorRealName#, product_name=#productName#, product_number=#productNumber#, product_status=#productStatus#, score_avg=#scoreAvg#, score_sum=#scoreSum#, rate_sum=#rateSum#, product_unit=#productUnit#, price1=#price1.cent#, price1_range=#price1Range#, price2=#price2.cent#, price2_range=#price2Range#, price3=#price3.cent#, price3_range=#price3Range#, product_type=#productType#, product_vary=#productVary#, small_pic_path=#smallPicPath#, middle_pic_path=#middlePicPath#, big_pic_path=#bigPicPath#, web_order=#webOrder#, start_order_count=#startOrderCount#, ware_count=#wareCount#, reserved_count=#reservedCount#, sale_count=#saleCount#, sale_type_o2o=#saleTypeO2o#, sale_type_b2c=#saleTypeB2c#, sale_type_order_meal=#saleTypeOrderMeal#, sale_type_hotels=#saleTypeHotels#, group_buy_detail=#groupBuyDetail#, product_detail=#productDetail#, wholesale_detail=#wholesaleDetail#, transport_detail=#transportDetail#, trade_type=#tradeType#, product_start_date=#productStartDate#, product_modify_date=#productModifyDate#, product_end_date=#productEndDate#, ip_address=#ipAddress#, facade=#facade#, last_view_time=#lastViewTime#, view_count=#viewCount#, small_pic_path1=#smallPicPath1#, middle_pic_path1=#middlePicPath1#, big_pic_path1=#bigPicPath1#, small_pic_path2=#smallPicPath2#, middle_pic_path2=#middlePicPath2#, big_pic_path2=#bigPicPath2#, small_pic_path3=#smallPicPath3#, middle_pic_path3=#middlePicPath3#, big_pic_path3=#bigPicPath3#, censor=#censor#, post_type=#postType#, market_price=#marketPrice.cent#, product_state=#productState#, pic_path=#picPath#, html_path=#htmlPath#, check_id=#checkId#, check_name=#checkName#, check_real_name=#checkRealName#, product_style=#productStyle#, product_theme=#productTheme#, pt_tag=#ptTag#, pt_keyWords=#ptKeyWords#, points=#points#, appointment=#appointment#, product_cus_add1=#productCusAdd1#, product_cus_add2=#productCusAdd2#, product_cus_add3=#productCusAdd3#, product_cus_add4=#productCusAdd4#, product_cus_add5=#productCusAdd5#, custom_type1=#customType1#, custom_type2=#customType2#, custom_type3=#customType3#, custom_value1=#customValue1#, custom_value2=#customValue2#, custom_value3=#customValue3#, group_purchase_end_time=#groupPurchaseEndTime#, group_purchase_begin_time=#groupPurchaseBeginTime#, tune_meal=#tuneMeal#, recommend=#recommend#, special_room=#specialRoom#, long_rent_room=#longRentRoom#, morning_room=#morningRoom#, exec_begin_time=#execBeginTime#, exec_end_time=#execEndTime# where (product_id = #productId#)
    ]]>
    </update>

    <!-- mapped statement for IbatisTblProductDAO.findById -->
    <select id="MS-TBL-PRODUCT-FIND-BY-ID" resultMap="RM-TBL-PRODUCT">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-PRODUCT-FIND-BY-ID*/ * from tbl_product where (product_id = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisTblProductDAO.findByIdForUpdate -->
    <select id="MS-TBL-PRODUCT-FIND-BY-ID-FOR-UPDATE" resultMap="RM-TBL-PRODUCT">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-PRODUCT-FIND-BY-ID-FOR-UPDATE*/ * from tbl_product where (product_id = #value#) for update
    ]]>
    </select>

    <!-- mapped statement for IbatisTblProductDAO.findByCondition -->
    <select id="MS-TBL-PRODUCT-FIND-BY-CONDITION" resultMap="RM-TBL-PRODUCT">
        SELECT /*MS-ESUPPLIER-TBL-PRODUCT-FIND-BY-CONDITION*/   t.*  FROM tbl_product t,tbl_storage s
	         where t.product_id=s.product_id
	        <dynamic>
	            <isGreaterThan property="tblProduct.productId"  compareValue="0" prepend=" and ">
	                t.product_id = #tblProduct.productId#
	            </isGreaterThan>
	             <isGreaterThan property="tblProduct.supplierId"  compareValue="0" prepend=" and ">
	                supplier_id = #tblProduct.supplierId#
	            </isGreaterThan>

				<isNotEmpty property="tblProduct.censor" prepend=" and ">
					censor = #tblProduct.censor#
				</isNotEmpty>

				<isGreaterThan property="tblProduct.resortsBusinessId"  compareValue="0" prepend=" and ">
					resorts_business_id = #tblProduct.resortsBusinessId#
				</isGreaterThan>
	            
	             <isNotEmpty property="tblProduct.productName" prepend=" and ">
	             <![CDATA[ product_name like concat('%',#tblProduct.productName#,'%')  ]]>
	             </isNotEmpty>

	             <isNotEmpty property="tblProduct.ptTag" prepend=" and ">
	             	<![CDATA[ pt_tag like concat('%',#tblProduct.ptTag#,'%')  ]]>
	             </isNotEmpty>


	             <isNotEmpty property="tblProduct.supplierName" prepend=" and ">
	             	supplier_name like concat('%',#tblProduct.supplierName#,'%')
	             </isNotEmpty>
	             <isNotEmpty property="tblProduct.productNumber" prepend=" and ">
	             	product_number like concat('%',#tblProduct.productNumber#,'%')
	             </isNotEmpty>
	             
	             <isNotEmpty property="tblProduct.productStatus" prepend=" and ">
	             	product_status = #tblProduct.productStatus#
	             </isNotEmpty>
	             
	             <isNotEmpty property="tblProduct.postType" prepend=" and ">
	             	post_type = #tblProduct.postType#
	             </isNotEmpty>

	             <isNotEmpty property="tblProduct.facade" prepend=" and ">
	             	facade = #tblProduct.facade#
	             </isNotEmpty>

	            <isNotEmpty property="tblProduct.saleTypeO2o" prepend=" and ">
	             	sale_type_o2o = #tblProduct.saleTypeO2o#
	             </isNotEmpty>
	              <isNotEmpty property="tblProduct.saleTypeB2c" prepend=" and ">
	             	sale_type_b2c = #tblProduct.saleTypeB2c#
	             </isNotEmpty>

				<isNotEmpty property="tblProduct.tuneMeal" prepend=" and ">
	             	tune_meal = #tblProduct.tuneMeal#
	             </isNotEmpty>
	             <isNotEmpty property="tblProduct.saleTypeOrderMeal" prepend=" and ">
	             	sale_type_order_meal = #tblProduct.saleTypeOrderMeal#
	             </isNotEmpty>
	              <isNotEmpty property="tblProduct.saleTypeHotels" prepend=" and ">
	             	sale_type_hotels = #tblProduct.saleTypeHotels#
	             </isNotEmpty>

	              <isNotEmpty property="tblProduct.appointment" prepend=" and ">
	             	appointment = #tblProduct.appointment#
	             </isNotEmpty>

	             <isNotEmpty property="beginPrice" prepend=" and ">
	              <![CDATA[	price1 >= #beginPrice# ]]>
	             </isNotEmpty>
	             <isNotEmpty property="endPrice" prepend=" and ">
	             <![CDATA[ price1 <= #endPrice#  ]]>
	             </isNotEmpty>
	             
				 <isNotEmpty property="tblProduct.productType" prepend=" and ">
	             	product_type like concat(#tblProduct.productType#,'%')
	             </isNotEmpty>
				 <isNotEmpty property="tblProduct.productVary" prepend=" and ">
	             	product_vary = #tblProduct.productVary#
	             </isNotEmpty>
	             <isNotEmpty property="tblProduct.productStyle" prepend=" and ">
	             	product_style like concat('%',#tblProduct.productStyle#,'%')
	             </isNotEmpty>
	             <isNotEmpty property="tblProduct.productTheme" prepend=" and ">
	             	product_theme like concat('%',#tblProduct.productTheme#,'%')
	             </isNotEmpty>
	             
				 <isNotEmpty property="tblProduct.tradeType" prepend=" and ">
	             	trade_type = #tblProduct.tradeType#
	             </isNotEmpty>	
				 <isNotEmpty property="tblProduct.recommend" prepend=" and ">
	             	recommend = #tblProduct.recommend#
	             </isNotEmpty>
	             
	             <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ t.raw_add_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ t.raw_add_time <= #endDate# ]]>
	            </isNotEmpty>
	        </dynamic>
           
            <dynamic>
            	<isEqual property="saleCountSort" compareValue="asc">
            		 ORDER by  s.saleing_all_count asc
				</isEqual>
				<isEqual property="saleCountSort" compareValue="desc">
            		 ORDER by  s.saleing_all_count desc
				</isEqual>
				<isEqual property="priceSort" compareValue="asc">
            		 ORDER by  price1 asc
				</isEqual>
				<isEqual property="priceSort" compareValue="desc">
            		 ORDER by  price1 desc
				</isEqual>
            </dynamic>
            <isEmpty property="saleCountSort">
            	  <isEmpty property="priceSort">
            	  ORDER by raw_add_time desc
            	  </isEmpty>
            </isEmpty>
            LIMIT #limitStart#,#pageSize#;
    </select>

    <!-- mapped statement for IbatisTblProductDAO.findByConditionCount -->
    <select id="MS-TBL-PRODUCT-FIND-BY-CONDITION-COUNT" resultClass="long">
        SELECT /*MS-ESUPPLIER-TBL-PRODUCT-FIND-BY-CONDITION-COUNT*/  count(*)  FROM tbl_product
	        where 1=1
	        <dynamic>
	              <isGreaterThan property="tblProduct.productId"  compareValue="0" prepend=" and ">
	                product_id = #tblProduct.productId#
	            </isGreaterThan>
	             <isGreaterThan property="tblProduct.supplierId"  compareValue="0" prepend=" and ">
	                supplier_id = #tblProduct.supplierId#
	            </isGreaterThan>

				<isNotEmpty property="tblProduct.censor" prepend=" and ">
					censor = #tblProduct.censor#
				</isNotEmpty>

				<isGreaterThan property="tblProduct.resortsBusinessId"  compareValue="0" prepend=" and ">
					resorts_business_id = #tblProduct.resortsBusinessId#
				</isGreaterThan>
	            
	             <isNotEmpty property="tblProduct.productName" prepend=" and ">
	             <![CDATA[ product_name like concat('%',#tblProduct.productName#,'%')  ]]>
	             </isNotEmpty>

	             <isNotEmpty property="tblProduct.ptTag" prepend=" and ">
	             	<![CDATA[ pt_tag like concat('%',#tblProduct.ptTag#,'%')  ]]>
	             </isNotEmpty>
	             
	             <isNotEmpty property="tblProduct.supplierName" prepend=" and ">
	             	supplier_name like concat('%',#tblProduct.supplierName#,'%')
	             </isNotEmpty>
	             <isNotEmpty property="tblProduct.productNumber" prepend=" and ">
	             	product_number like concat('%',#tblProduct.productNumber#,'%')
	             </isNotEmpty>

	             <isNotEmpty property="tblProduct.facade" prepend=" and ">
	             	facade = #tblProduct.facade#
	             </isNotEmpty>

	             <isNotEmpty property="tblProduct.productStatus" prepend=" and ">
	             	product_status = #tblProduct.productStatus#
	             </isNotEmpty>
	             
	              <isNotEmpty property="tblProduct.postType" prepend=" and ">
	             	post_type = #tblProduct.postType#
	             </isNotEmpty>
				 <isNotEmpty property="tblProduct.recommend" prepend=" and ">
	             	recommend = #tblProduct.recommend#
	             </isNotEmpty>
	             <isNotEmpty property="tblProduct.saleTypeO2o" prepend=" and ">
	             	sale_type_o2o = #tblProduct.saleTypeO2o#
	             </isNotEmpty>
	              <isNotEmpty property="tblProduct.saleTypeB2c" prepend=" and ">
	             	sale_type_b2c = #tblProduct.saleTypeB2c#
	             </isNotEmpty>
				 <isNotEmpty property="tblProduct.tuneMeal" prepend=" and ">
	             	tune_meal = #tblProduct.tuneMeal#
	             </isNotEmpty>
				 <isNotEmpty property="tblProduct.saleTypeOrderMeal" prepend=" and ">
	             	sale_type_order_meal = #tblProduct.saleTypeOrderMeal#
	             </isNotEmpty>
	              <isNotEmpty property="tblProduct.saleTypeHotels" prepend=" and ">
	             	sale_type_hotels = #tblProduct.saleTypeHotels#
	             </isNotEmpty>
					

	              <isNotEmpty property="tblProduct.appointment" prepend=" and ">
	             	appointment = #tblProduct.appointment#
	             </isNotEmpty>

	             <isNotEmpty property="beginPrice" prepend=" and ">
	              <![CDATA[	price1 >= #beginPrice# ]]>
	             </isNotEmpty>
	             <isNotEmpty property="endPrice" prepend=" and ">
	             <![CDATA[ price1 <= #endPrice#  ]]>
	             </isNotEmpty>
	             
				 <isNotEmpty property="tblProduct.productType" prepend=" and ">
	             	product_type like concat(#tblProduct.productType#,'%')
	             </isNotEmpty>

				 <isNotEmpty property="tblProduct.productVary" prepend=" and ">
	             	product_vary = #tblProduct.productVary#
	             </isNotEmpty>

	             <isNotEmpty property="tblProduct.productStyle" prepend=" and ">
	             	product_style like concat('%',#tblProduct.productStyle#,'%')
	             </isNotEmpty>
	             <isNotEmpty property="tblProduct.productTheme" prepend=" and ">
	             	product_theme like concat('%',#tblProduct.productTheme#,'%')
	             </isNotEmpty>
	             
				 <isNotEmpty property="tblProduct.tradeType" prepend=" and ">
	             	trade_type = #tblProduct.tradeType#
	             </isNotEmpty>	
	             	
	             
	             <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ raw_add_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ raw_add_time <= #endDate# ]]>
	            </isNotEmpty>
	        </dynamic>
    </select>

    <!-- mapped statement for IbatisTblProductDAO.updateSaleCount -->
    <update id="MS-TBL-PRODUCT-UPDATE-SALE-COUNT">
        UPDATE /*MS-ESUPPLIER-TBL-PRODUCT-UPDATE-SALE-COUNT*/ tbl_product SET  sale_count=sale_count+#saleCount#,last_view_time=sysdate() WHERE product_id=#productId#
    </update>

    <!-- mapped statement for IbatisTblProductDAO.addViewCount -->
    <update id="MS-TBL-PRODUCT-ADD-VIEW-COUNT">
        UPDATE /*MS-ESUPPLIER-TBL-PRODUCT-ADD-VIEW-COUNT*/ tbl_product SET  view_count=view_count+#viewCount# WHERE product_id=#productId#
    </update>

    <!-- mapped statement for IbatisTblProductDAO.deleteById -->
    <delete id="MS-TBL-PRODUCT-DELETE-BY-ID">
    <![CDATA[
        delete /*MS-ESUPPLIER-TBL-PRODUCT-DELETE-BY-ID*/ from tbl_product where (product_id = #value#)
    ]]>
    </delete>

    <!-- mapped statement for IbatisTblProductDAO.findAllCount -->
    <select id="MS-TBL-PRODUCT-FIND-ALL-COUNT" resultClass="long">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-PRODUCT-FIND-ALL-COUNT*/ COUNT(*) from tbl_product
    ]]>
    </select>

    <!-- mapped statement for IbatisTblProductDAO.findByUserId -->
    <select id="MS-TBL-PRODUCT-FIND-BY-USER-ID" resultMap="RM-TBL-PRODUCT">
        SELECT /*MS-ESUPPLIER-TBL-PRODUCT-FIND-BY-USER-ID*/  t.* FROM tbl_product t,tbl_product_user u
	        where t.product_id=u.product_id
	        <dynamic>
	            <isGreaterThan property="userId"  compareValue="0" prepend=" and ">
	              u.user_id = #userId#
	            </isGreaterThan>
	            <isNotEmpty property="tblProduct.productName" prepend=" and ">
	              t.product_name = #tblProduct.productName#
	            </isNotEmpty>
	            <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ u.raw_add_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ u.raw_add_time <= #endDate# ]]>
	            </isNotEmpty>
	        </dynamic>
            ORDER by u.raw_add_time desc
            
            LIMIT #limitStart#,#pageSize#;
    </select>

    <!-- mapped statement for IbatisTblProductDAO.findByUserIdCount -->
    <select id="MS-TBL-PRODUCT-FIND-BY-USER-ID-COUNT" resultClass="long">
        SELECT /*MS-ESUPPLIER-TBL-PRODUCT-FIND-BY-USER-ID-COUNT*/  count(*)  FROM tbl_product t,tbl_product_user u
	         where t.product_id=u.product_id
	         <dynamic>
	            <isGreaterThan property="userId"  compareValue="0" prepend=" and ">
	                u.user_id = #userId#
	            </isGreaterThan>
	            <isNotEmpty property="tblProduct.productName" prepend=" and ">
	                t.product_name = #tblProduct.productName#
	            </isNotEmpty>
	            <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ u.raw_add_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ u.raw_add_time <= #endDate# ]]>
	            </isNotEmpty>
	        </dynamic>
    </select>

    <!-- mapped statement for IbatisTblProductDAO.findByRecommend -->
    <select id="MS-TBL-PRODUCT-FIND-BY-RECOMMEND" resultMap="RM-TBL-PRODUCT">
        SELECT /*MS-ESUPPLIER-TBL-PRODUCT-FIND-BY-RECOMMEND*/ t.* FROM tbl_product t,tbl_product_recommend r
	        where t.product_id=r.product_id
	        <dynamic>
	            <isGreaterThan property="tblProduct.supplierId"  compareValue="0" prepend=" and ">
	                t.supplier_id = #tblProduct.supplierId#
	            </isGreaterThan>
	            <isNotEmpty property="tblProduct.supplierName" prepend=" and ">
	                t.supplier_name like  concat('%',#tblProduct.supplierName#,'%')
	            </isNotEmpty>
	            <isNotEmpty property="tblProduct.productName" prepend=" and ">
	                t.product_name like concat('%',#tblProduct.productName#,'%')
	            </isNotEmpty>
	            <isNotEmpty property="tblProduct.productStatus" prepend=" and ">
	             	t.product_status = #tblProduct.productStatus#
	             </isNotEmpty>
	            <isNotEmpty property="tblProduct.productType" prepend=" and ">
	             	t.product_type like #tblProduct.productType#
	            </isNotEmpty>
				 <isNotEmpty property="tblProduct.productVary" prepend=" and ">
	             	product_vary = #tblProduct.productVary#
	             </isNotEmpty>
	            <isNotEmpty property="tblProduct.saleTypeO2o" prepend=" and ">
	             	sale_type_o2o = #tblProduct.saleTypeO2o#
	             </isNotEmpty>
	              <isNotEmpty property="tblProduct.saleTypeB2c" prepend=" and ">
	             	sale_type_b2c = #tblProduct.saleTypeB2c#
	             </isNotEmpty>
	              <isNotEmpty property="tblProduct.saleTypeHotels" prepend=" and ">
	             	sale_type_hotels = #tblProduct.saleTypeHotels#
	             </isNotEmpty>
				<isGreaterThan property="tblProduct.resortsBusinessId"  compareValue="0" prepend=" and ">
					resorts_business_id = #tblProduct.resortsBusinessId#
				</isGreaterThan>

	             <isGreaterThan property="tblProduct.productId"  compareValue="0" prepend=" and ">
	             <![CDATA[ t.product_id <> #tblProduct.productId#  ]]>
	            </isGreaterThan>
	            <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ r.raw_add_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ r.raw_add_time <= #endDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="recommendType" prepend=" and ">
	              <![CDATA[ r.type = #recommendType# ]]>
	            </isNotEmpty>
	        </dynamic>

            <dynamic>
            	<isEqual property="orderNormal" compareValue="NORMAL">
            		 ORDER by  t.supplier_id desc,t.product_vary,t.product_type,t.raw_add_time desc
				</isEqual>
            </dynamic>
            <isEmpty property="orderNormal">
            ORDER by rand()
            </isEmpty>

            LIMIT #limitStart#,#pageSize#;
    </select>

    <!-- mapped statement for IbatisTblProductDAO.findByRecommendCount -->
    <select id="MS-TBL-PRODUCT-FIND-BY-RECOMMEND-COUNT" resultClass="long">
        SELECT /*MS-ESUPPLIER-TBL-PRODUCT-FIND-BY-RECOMMEND-COUNT*/  count(*)   FROM tbl_product t,tbl_product_recommend r
	         WHERE t.product_id=r.product_id
	         <dynamic>
	            <isGreaterThan property="tblProduct.supplierId"  compareValue="0" prepend=" and ">
	                t.supplier_id = #tblProduct.supplierId#
	            </isGreaterThan>
	            <isNotEmpty property="tblProduct.supplierName" prepend=" and ">
	                t.supplier_name like  concat('%',#tblProduct.supplierName#,'%')
	            </isNotEmpty>
	            <isNotEmpty property="tblProduct.productName" prepend=" and ">
	                t.product_name like concat('%',#tblProduct.productName#,'%')
	            </isNotEmpty>
	            <isNotEmpty property="tblProduct.productStatus" prepend=" and ">
	             	t.product_status = #tblProduct.productStatus#
	             </isNotEmpty>
	            <isNotEmpty property="tblProduct.productType" prepend=" and ">
	             	t.product_type like #tblProduct.productType#
	            </isNotEmpty>
				 <isNotEmpty property="tblProduct.productVary" prepend=" and ">
	             	product_vary = #tblProduct.productVary#
	             </isNotEmpty>
	            <isNotEmpty property="tblProduct.saleTypeO2o" prepend=" and ">
	             	sale_type_o2o = #tblProduct.saleTypeO2o#
	             </isNotEmpty>
	              <isNotEmpty property="tblProduct.saleTypeB2c" prepend=" and ">
	             	sale_type_b2c = #tblProduct.saleTypeB2c#
	             </isNotEmpty>
	              <isNotEmpty property="tblProduct.saleTypeHotels" prepend=" and ">
	             	sale_type_hotels = #tblProduct.saleTypeHotels#
	             </isNotEmpty>
	             <isGreaterThan property="tblProduct.productId"  compareValue="0" prepend=" and ">
	              <![CDATA[   t.product_id <> #tblProduct.productId# ]]>
	            </isGreaterThan>
				<isGreaterThan property="tblProduct.resortsBusinessId"  compareValue="0" prepend=" and ">
					resorts_business_id = #tblProduct.resortsBusinessId#
				</isGreaterThan>
	            <isNotEmpty property="beginDate" prepend=" and ">
	              <![CDATA[ r.raw_add_time >= #beginDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="endDate" prepend=" and ">
	              <![CDATA[ r.raw_add_time <= #endDate# ]]>
	            </isNotEmpty>
	             <isNotEmpty property="recommendType" prepend=" and ">
	              <![CDATA[ r.type = #recommendType# ]]>
	            </isNotEmpty>
	        </dynamic>
    </select>

    <!-- mapped statement for IbatisTblProductDAO.findByProductType -->
    <select id="MS-TBL-PRODUCT-FIND-BY-PRODUCT-TYPE" resultMap="RM-TBL-PRODUCT">
        SELECT /*MS-ESUPPLIER-TBL-PRODUCT-FIND-BY-PRODUCT-TYPE*/   t.*  FROM tbl_product t,tbl_storage s
	         where t.product_id=s.product_id
	        <dynamic>
	           
				 <isNotEmpty property="tblProduct.productType" prepend=" and ">
	             	product_type like #tblProduct.productType#
	             </isNotEmpty>
				 <isNotEmpty property="tblProduct.productVary" prepend=" and ">
	             	product_vary = #tblProduct.productVary#
	             </isNotEmpty>
	             <isNotEmpty property="tblProduct.productStatus" prepend=" and ">
	             	product_status like #tblProduct.productStatus#
	             </isNotEmpty>
	        </dynamic>
           
            <dynamic>
            	<isEqual property="saleCountSort" compareValue="asc">
            		 ORDER by  s.saleing_all_count asc
				</isEqual>
				<isEqual property="saleCountSort" compareValue="desc">
            		 ORDER by  s.saleing_all_count desc
				</isEqual>				
            </dynamic>
            <isEmpty property="saleCountSort">
            	  ORDER by raw_add_time desc
            </isEmpty>
            LIMIT #limitStart#,#pageSize#;
    </select>

    <!-- mapped statement for IbatisTblProductDAO.findLowestPriceBySupplierId -->
    <select id="MS-TBL-PRODUCT-FIND-LOWEST-PRICE-BY-SUPPLIER-ID" resultClass="com.yjf.common.lang.util.money.Money">
    <![CDATA[
        select /*MS-ESUPPLIER-TBL-PRODUCT-FIND-LOWEST-PRICE-BY-SUPPLIER-ID*/ MIN(price1) from tbl_product where ((supplier_id = #value#) AND (sale_type_hotels = 'YES'))
    ]]>
    </select>

</sqlMap>
